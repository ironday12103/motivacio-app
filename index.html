<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<title>Motiv√°ci√≥ App</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="manifest" href="manifest.json">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{
 margin:0;
 background:#000;
 color:#fff;
 font-family:Arial,Helvetica,sans-serif;
 display:flex;
 justify-content:center;
 align-items:center;
 height:100vh;
}
.app{
 width:100%;
 max-width:480px;
 height:96vh;
 background:#111;
 border-radius:28px;
 padding:18px;
 box-shadow:0 0 40px rgba(0,0,0,.9);
 overflow:auto;
}
.tabs{
 display:flex;
 gap:6px;
 margin-bottom:10px;
}
.tabs button{
 flex:1;
 border:none;
 border-radius:14px;
 padding:10px;
 background:#333;
 color:#fff;
 cursor:pointer;
 font-size:13px;
}
.tabs button.active{
 background:#ff9800;
 color:#000;
}
.view{display:none;}
.view.active{display:block;}

.stat-tabs{
 display:flex;
 gap:6px;
 margin-bottom:10px;
}
.stat-tabs button{
 flex:1;
 border:none;
 border-radius:14px;
 padding:10px;
 background:#333;
 color:#fff;
}
.stat-tabs button.active{
 background:#ff9800;
 color:#000;
}

.header-quote{text-align:center;font-size:14px;margin-bottom:8px;opacity:.9;}

.motivation-card{
 background:linear-gradient(135deg,#ff9800,#ff5722,#9c27b0);
 border-radius:22px;
 padding:14px;
 text-align:center;
}
.motivation-card img{
 width:100%;
 height:40vh;
 max-height:320px;
 object-fit:cover;
 border-radius:16px;
}
#authorTag{
 display:inline-block;
 padding:6px 14px;
 border-radius:16px;
 font-weight:bold;
 background:#222;
 color:#ff9800;
 margin-bottom:6px;
}
.big-quote{font-size:26px;font-weight:bold;}

textarea,input,select{
 width:100%;
 padding:12px;
 border-radius:14px;
 border:none;
 margin-top:8px;
}

button{
 width:100%;
 padding:12px;
 border:none;
 border-radius:14px;
 margin-top:8px;
}
.main{background:#ff9800;color:#000;}
.secondary{background:#333;color:#fff;}

.card{background:#1d1d1d;border-radius:16px;padding:12px;margin-bottom:8px;}
.stat-box{background:#222;border-radius:16px;padding:12px;margin-bottom:8px;}
</style>
</head>

<body>
<div class="app">

<div class="tabs">
 <button class="active" onclick="tab(this,'mot')">üî•</button>
 <button onclick="tab(this,'nap')">üìì</button>
 <button onclick="tab(this,'sport')">üèãÔ∏è</button>
 <button onclick="tab(this,'book')">üìö</button>
 <button onclick="tab(this,'stat')">üìä</button>
</div>

<div class="header-quote" id="dailyQuote"></div>

<!-- MOTIV√ÅCI√ì -->
<div id="mot" class="view active">
 <div class="motivation-card">
  <img id="motImg">
  <div id="authorTag"></div>
  <div class="big-quote" id="quote"></div>
 </div>
 <button class="main" onclick="newQuote()">√öj motiv√°ci√≥</button>
</div>

<!-- NAPL√ì -->
<div id="nap" class="view">
 <textarea id="journal" placeholder="√çrd le a napod..." oninput="countJournalChars()"></textarea>
 <div class="card">Karakterek: <b><span id="charCount">0</span> / 90</b></div>
 <button class="secondary" id="saveJournalBtn" onclick="saveJournal()" disabled>Ment√©s</button>
</div>

<!-- SPORT -->
<div id="sport" class="view">
 <select id="stype"><option>Fut√°s</option><option>S√∫lyz√≥s</option></select>
 <button class="secondary" onclick="saveSport()">Ment√©s</button>
</div>

<!-- BOOK -->
<div id="book" class="view">
 <input id="btitle" placeholder="K√∂nyv c√≠me">
 <button class="secondary" onclick="saveBook()">Ment√©s</button>
</div>

<!-- STAT -->
<div id="stat" class="view">

 <div class="stat-tabs">
  <button id="weekBtn" class="active" onclick="switchStat('week')">Heti</button>
  <button id="yearBtn" onclick="switchStat('year')">√âves</button>
 </div>

 <canvas id="statChart"></canvas>

 <div class="stat-box" id="statWrite"></div>
 <div class="stat-box" id="statSport"></div>
 <div class="stat-box" id="statBook"></div>

 <div class="card"><b>Napl√≥k</b><div id="statJournalList"></div></div>
 <div class="card"><b>Edz√©sek</b><div id="statSportList"></div></div>
 <div class="card"><b>K√∂nyvek</b><div id="statBookList"></div></div>
</div>

</div>

<script>
const quotes=[
 {a:"David Goggins",t:"A f√°jdalom ideiglenes.",i:"https://images.unsplash.com/photo-1517836357463-d25dfeac3438"},
 {a:"Elon Musk",t:"Ha fontos, megcsin√°lod.",i:"https://images.unsplash.com/photo-1518770660439-4636190af475"}
];

function tab(b,id){
 document.querySelectorAll(".tabs button").forEach(x=>x.classList.remove("active"));
 b.classList.add("active");
 document.querySelectorAll(".view").forEach(v=>v.classList.remove("active"));
 document.getElementById(id).classList.add("active");
 if(id==="stat")loadStats();
}

function newQuote(){
 let q=quotes[Math.floor(Math.random()*quotes.length)];
 quote.innerText=q.t;
 motImg.src=q.i;
 authorTag.innerText=q.a;
 dailyQuote.innerText=q.t+" ‚Äì "+q.a;
}

function countJournalChars(){
 const len=journal.value.length;
 charCount.innerText=len;
 saveJournalBtn.disabled=len<90;
}

function saveJournal(){
 let j=JSON.parse(localStorage.journal||"[]");
 j.push(journal.value);
 localStorage.journal=JSON.stringify(j);
 journal.value="";
 countJournalChars();
}

function saveSport(){
 let s=JSON.parse(localStorage.sport||"[]");
 s.push({type:stype.value});
 localStorage.sport=JSON.stringify(s);
}

function saveBook(){
 let b=JSON.parse(localStorage.book||"[]");
 b.push({title:btitle.value});
 localStorage.book=JSON.stringify(b);
}

let statMode="week";
function switchStat(m){
 statMode=m;
 weekBtn.classList.remove("active");
 yearBtn.classList.remove("active");
 (m==="week"?weekBtn:yearBtn).classList.add("active");
 loadStats();
}

function loadStats(){
 let j=JSON.parse(localStorage.journal||"[]");
 let s=JSON.parse(localStorage.sport||"[]");
 let b=JSON.parse(localStorage.book||"[]");

 statWrite.innerText="üìì Napl√≥k: "+j.length;
 statSport.innerText="üèãÔ∏è Edz√©sek: "+s.length;
 statBook.innerText="üìö K√∂nyvek: "+b.length;

 if(window.c)window.c.destroy();
 window.c=new Chart(statChart,{
  type:"bar",
  data:{labels:["Napl√≥","Edz√©s","K√∂nyv"],datasets:[{data:[j.length,s.length,b.length]}]},
  options:{plugins:{legend:{display:false}},scales:{y:{beginAtZero:true}}}
 });

 statJournalList.innerHTML=j.map(x=>`<div class="card">${x}</div>`).join("");
 statSportList.innerHTML=s.map(x=>`<div class="card">${x.type}</div>`).join("");
 statBookList.innerHTML=b.map(x=>`<div class="card">${x.title}</div>`).join("");
}

newQuote();
</script>
</body>
</html>
